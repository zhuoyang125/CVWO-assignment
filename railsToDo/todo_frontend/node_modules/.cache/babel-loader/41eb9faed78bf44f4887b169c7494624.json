{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\zhuoy\\\\Documents\\\\basic-web-dev\\\\CVWO-assignment\\\\railsToDo\\\\todo_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\zhuoy\\\\Documents\\\\basic-web-dev\\\\CVWO-assignment\\\\railsToDo\\\\todo_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\zhuoy\\\\Documents\\\\basic-web-dev\\\\CVWO-assignment\\\\railsToDo\\\\todo_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\zhuoy\\\\Documents\\\\basic-web-dev\\\\CVWO-assignment\\\\railsToDo\\\\todo_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\zhuoy\\\\Documents\\\\basic-web-dev\\\\CVWO-assignment\\\\railsToDo\\\\todo_frontend\\\\src\\\\components\\\\Update.jsx\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nfunction Update(props) {\n  var update_mode = props.update_mode;\n  var task_item = props.taskItem;\n  var setTaskToUpdate = props.setTaskToUpdate;\n  var getTasks = props.getTasks;\n\n  function handleChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setTaskToUpdate(function (prevValue) {\n      return _objectSpread({}, prevValue, _defineProperty({}, name, value));\n    });\n  }\n\n  function handleDateChange(newDate) {\n    setTaskToUpdate(function (prevValue) {\n      return {\n        todo_title: prevValue.todo_title,\n        due_date: newDate,\n        todo_tag: prevValue.todo_tag\n      };\n    });\n  }\n\n  var createUpdate = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              _context.next = 3;\n              return fetch(\"http://localhost:3000/todos/\" + task_item.id, {\n                method: \"put\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(task_item)\n              });\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return getTasks();\n\n            case 6:\n              setTaskToUpdate({\n                todo_title: \"\",\n                due_date: \"\",\n                todo_tag: \"\"\n              });\n              props.reset();\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function createUpdate(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, update_mode && /*#__PURE__*/React.createElement(\"div\", {\n    class: \"update-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    class: \"display-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Update Task\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Task Name\",\n    value: task_item.todo_title,\n    onChange: handleChange,\n    name: \"todo_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 139\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 144\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 149\n    }\n  }), /*#__PURE__*/React.createElement(DatePicker, {\n    className: \"form-control update-field\",\n    dateFormat: \"dd/MM/yyyy\",\n    onChange: handleDateChange,\n    name: \"due_date\",\n    value: task_item.due_date,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 164\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 169\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 174\n    }\n  }), /*#__PURE__*/React.createElement(InputLabel, {\n    id: \"demo-simple-select-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Tag\"), /*#__PURE__*/React.createElement(Select, {\n    labelId: \"demo-simple-select-label\",\n    id: \"demo-simple-select\",\n    value: task_item.todo_tag,\n    name: \"todo_tag\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"school\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, \"school\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"work\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"work\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"personal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, \"personal\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"important\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"important\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: createUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    style: {\n      color: 'white',\n      textDecoration: 'none'\n    },\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 76\n    }\n  }, \"Update\")))));\n}\n\nexport default Update;","map":{"version":3,"sources":["C:/Users/zhuoy/Documents/basic-web-dev/CVWO-assignment/railsToDo/todo_frontend/src/components/Update.jsx"],"names":["React","Link","DatePicker","TextField","InputLabel","Select","MenuItem","Update","props","update_mode","task_item","taskItem","setTaskToUpdate","getTasks","handleChange","event","target","name","value","prevValue","handleDateChange","newDate","todo_title","due_date","todo_tag","createUpdate","preventDefault","fetch","id","method","headers","body","JSON","stringify","response","reset","color","textDecoration"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport DatePicker from \"react-datepicker\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nfunction Update(props){\r\n\r\n    const update_mode = props.update_mode;\r\n    const task_item = props.taskItem;\r\n    const setTaskToUpdate = props.setTaskToUpdate;\r\n    const getTasks = props.getTasks;\r\n\r\n    function handleChange(event){\r\n        const { name, value } = event.target;\r\n        setTaskToUpdate( prevValue => {\r\n            return {\r\n                ...prevValue,\r\n                [name]: value,\r\n            }\r\n        });\r\n    }\r\n\r\n    function handleDateChange(newDate) {\r\n        setTaskToUpdate(prevValue => {\r\n            return {\r\n               todo_title: prevValue.todo_title,\r\n               due_date: newDate,\r\n               todo_tag: prevValue.todo_tag\r\n            }\r\n        });\r\n    }\r\n\r\n    const createUpdate = async event => {\r\n        event.preventDefault();\r\n\r\n        const response = await fetch(\"http://localhost:3000/todos/\" + task_item.id, {\r\n            method: \"put\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(task_item),\r\n        });\r\n\r\n        await getTasks();\r\n\r\n        setTaskToUpdate({\r\n            todo_title:\"\",\r\n            due_date:\"\",\r\n            todo_tag:\"\",\r\n        });\r\n\r\n        props.reset();\r\n    }\r\n\r\n    return (\r\n        \r\n        <div>\r\n            {update_mode && \r\n            <div class=\"update-field\">\r\n                <hr></hr>\r\n                <br/>\r\n                <p class=\"display-6\">Update Task</p>\r\n                <br/>\r\n                <form>\r\n                <TextField id=\"standard-basic\" label=\"Task Name\" value={task_item.todo_title} onChange={handleChange} name=\"todo_title\" /><br/><br/><br/>\r\n                <DatePicker className=\"form-control update-field\" dateFormat=\"dd/MM/yyyy\" onChange={handleDateChange} name=\"due_date\" value={task_item.due_date} /><br/><br/><br/>\r\n                <InputLabel id=\"demo-simple-select-label\">Tag</InputLabel>\r\n                <Select\r\n                labelId=\"demo-simple-select-label\"\r\n                id=\"demo-simple-select\"\r\n                value={task_item.todo_tag}\r\n                name=\"todo_tag\"\r\n                onChange={handleChange}\r\n                >\r\n                <MenuItem value={\"school\"}>school</MenuItem>\r\n                <MenuItem value={\"work\"}>work</MenuItem>\r\n                <MenuItem value={\"personal\"}>personal</MenuItem>\r\n                <MenuItem value={\"important\"}>important</MenuItem>\r\n                </Select><br/><br/>\r\n                    <button class=\"btn btn-primary\" onClick={createUpdate}><Link style={{color: 'white', textDecoration: 'none'}} to='/'>Update</Link></button>\r\n                </form>\r\n            </div>}\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Update;\r\n"]},"metadata":{},"sourceType":"module"}