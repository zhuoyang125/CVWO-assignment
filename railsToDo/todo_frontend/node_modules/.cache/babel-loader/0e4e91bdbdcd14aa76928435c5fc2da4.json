{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\zhuoy\\\\Documents\\\\basic-web-dev\\\\CVWO-assignment\\\\railsToDo\\\\todo_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\zhuoy\\\\Documents\\\\basic-web-dev\\\\CVWO-assignment\\\\railsToDo\\\\todo_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\zhuoy\\\\Documents\\\\basic-web-dev\\\\CVWO-assignment\\\\railsToDo\\\\todo_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\zhuoy\\\\Documents\\\\basic-web-dev\\\\CVWO-assignment\\\\railsToDo\\\\todo_frontend\\\\src\\\\components\\\\Navbar.jsx\";\nimport React, { useState } from 'react';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport Add from \"./Add\";\nimport List from \"./List\";\n\nfunction Navbar() {\n  var _this = this;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchMode = _useState2[0],\n      setSearchMode = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      query = _useState4[0],\n      setQuery = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      searchResults = _useState6[0],\n      setSearchResults = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      listOfTasks = _useState8[0],\n      setListOfTasks = _useState8[1];\n\n  var getTasks = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(\"http://localhost:3000/todos\");\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              data = _context.sent;\n              setListOfTasks(data);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getTasks() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  function handleSearchChange(event) {\n    setQuery(event.target.value);\n  }\n\n  var searchTask = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event) {\n      var response, data, filtered;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              event.preventDefault();\n              _context2.next = 3;\n              return fetch(\"http://localhost:3000/todos\");\n\n            case 3:\n              response = _context2.sent;\n              _context2.next = 6;\n              return response.json();\n\n            case 6:\n              data = _context2.sent;\n              setSearchMode(true);\n              setQuery(\"\");\n\n              if (query === \"\") {\n                setSearchResults(data);\n              } else {\n                filtered = data.filter(function (item) {\n                  return item.todo_title.toUpperCase().includes(query.toUpperCase());\n                });\n                setSearchResults(filtered);\n              }\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function searchTask(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    class: \"navbar navbar-expand-lg navbar-dark header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    class: \"navbar-brand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 37\n    }\n  }, \"Taskify\")), /*#__PURE__*/React.createElement(\"button\", {\n    class: \"navbar-toggler\",\n    type: \"button\",\n    \"data-bs-toggle\": \"collapse\",\n    \"data-bs-target\": \"#navbarNav\",\n    \"aria-controls\": \"navbarNav\",\n    \"aria-expanded\": \"false\",\n    \"aria-label\": \"Toggle navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"navbar-toggler-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"collapse navbar-collapse\",\n    id: \"navbarNav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"navbar-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    class: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    class: \"nav-link active fs-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, \"Tasks\")), /*#__PURE__*/React.createElement(\"li\", {\n    class: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/add\",\n    class: \"nav-link active fs-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, \"Add\")))), /*#__PURE__*/React.createElement(\"form\", {\n    class: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleSearchChange,\n    class: \"form-control me-2\",\n    type: \"search\",\n    placeholder: \"Search\",\n    \"aria-label\": \"Search\",\n    value: query,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: searchTask,\n    class: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    style: {\n      color: 'white',\n      textDecoration: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 70\n    }\n  }, \"Search\"))))), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: function render() {\n      return /*#__PURE__*/React.createElement(List, {\n        searchResults: searchResults,\n        searchMode: searchMode,\n        setSearchMode: setSearchMode,\n        listOfTasks: listOfTasks,\n        setListOfTasks: setListOfTasks,\n        getTasks: getTasks,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 48\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/add\",\n    render: function render() {\n      return /*#__PURE__*/React.createElement(Add, {\n        getTasks: getTasks,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 46\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  })));\n}\n\nexport default Navbar;","map":{"version":3,"sources":["C:/Users/zhuoy/Documents/basic-web-dev/CVWO-assignment/railsToDo/todo_frontend/src/components/Navbar.jsx"],"names":["React","useState","Link","Route","Switch","Add","List","Navbar","searchMode","setSearchMode","query","setQuery","searchResults","setSearchResults","listOfTasks","setListOfTasks","getTasks","fetch","response","json","data","handleSearchChange","event","target","value","searchTask","preventDefault","filtered","filter","item","todo_title","toUpperCase","includes","color","textDecoration"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, Route, Switch } from 'react-router-dom';\r\nimport Add from \"./Add\";\r\nimport List from \"./List\";\r\n\r\n\r\nfunction Navbar(){\r\n\r\n    const [searchMode, setSearchMode] = useState(false);\r\n\r\n    const [query, setQuery] = useState(\"\");\r\n\r\n    const [searchResults, setSearchResults] = useState([]);\r\n\r\n    const [listOfTasks, setListOfTasks] = useState([]);\r\n\r\n    const getTasks = async () => {\r\n        const response = await fetch(\"http://localhost:3000/todos\");\r\n        const data = await response.json();\r\n        setListOfTasks(data);\r\n    }\r\n\r\n    function handleSearchChange(event){\r\n        setQuery(event.target.value);\r\n    }\r\n\r\n    const searchTask = async event => {\r\n        event.preventDefault();\r\n        const response = await fetch(\"http://localhost:3000/todos\");\r\n        const data = await response.json();\r\n\r\n        setSearchMode(true);\r\n        setQuery(\"\");\r\n        if (query === \"\"){\r\n            setSearchResults(data);\r\n        } else {\r\n            const filtered = data.filter(item => {\r\n                return item.todo_title.toUpperCase().includes(query.toUpperCase());\r\n            });\r\n            setSearchResults(filtered);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        <nav class=\"navbar navbar-expand-lg navbar-dark header\">\r\n        <div class=\"container-fluid\">\r\n            <a class=\"navbar-brand\"><strong>Taskify</strong></a>\r\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                <span class=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n            <ul class=\"navbar-nav\">\r\n                <li class=\"nav-item\">\r\n                    <Link to=\"/\" class=\"nav-link active fs-5\">Tasks</Link>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <Link to=\"/add\" class=\"nav-link active fs-5\">Add</Link>\r\n                </li>\r\n            </ul>\r\n            </div>\r\n            <form class=\"d-flex\">\r\n                <input onChange={handleSearchChange} class=\"form-control me-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" value={query} />\r\n                <button onClick={searchTask} class=\"btn btn-primary\"><Link to=\"/\" style={{color: 'white', textDecoration: 'none'}}>Search</Link></button>\r\n            </form>\r\n            \r\n        </div>\r\n        </nav>\r\n        \r\n        <Switch>\r\n            <Route exact path=\"/\" render={()=> <List searchResults={searchResults} \r\n                                                     searchMode={searchMode} \r\n                                                     setSearchMode={setSearchMode}\r\n                                                     listOfTasks={listOfTasks}\r\n                                                     setListOfTasks={setListOfTasks}\r\n                                                     getTasks={getTasks} /> } />\r\n            <Route path=\"/add\" render={() => <Add getTasks={getTasks} />} />\r\n        </Switch>\r\n    </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Navbar;"]},"metadata":{},"sourceType":"module"}